<!DOCTYPE html>
<!-- tell angular this is shoppableVideo -->
<html lang="en" ng-app="shoppableVideo">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Shoppable Video Application</title>
    <!-- include the Bootstrap and jQuery UI CSS -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
    <!-- include our compiled CSS -->
    <link href="css/style.css" rel="stylesheet">
</head>
<!-- this will be the only controller AppCtrl -->

<body ng-controller="AppCtrl">
    <header>

        <div class="container-fluid">

            <div class="row context-menu">
                <div class="col-sm-4">
                    <input class="video-title" ng-model="videoTitle" type="text" name="" value="" placeholder="Shoppable Video Title">
                </div>
                <div class="col-sm-4">
                    <ul class="main-nav">
                        <li><a href="smartvideo.html" class="active">Product timeline</a></li>
                        <li><a href="">Appearance</a></li>
                        <li><a href="">Publish</a></li>
                    </ul>
                </div>
                <div class="col-sm-4">
                    <div class="option-menu">
                        <div class="options">
                            <span class="lineball"></span>
                            <span class="lineball second"></span>
                            <span class="lineball third"></span>
                        </div>
                        <ul>
                            <li><a href="#">Change video source</a></li>
                            <li><a href="#">Remove Shoppable Video</a></li>
                        </ul>
                    </div>
                    <a href="#" class="btn pink" style="float: right; margin-top: 2px; margin-right: 10px;">Save</a>
                </div>
            </div>
        </div>

    </header>


    <div class="body-wrap container-fluid">
        <!--Left column-->
        <div class="col-sm-6">
            <div class="row">
                <div class="col-sm-12 column-header">
                    <h3>Preview</h3>
                </div>
            </div>

            <!-- Video code goes here! -->
            <p>Video here</p>

            <!--Library with products-->
            <div id="myModal" class="col-sm-12" ng-show="showLibrary">

              <!-- Modal content-->
                <div class="modal-content">

                  <div class="modal-header">
                    <h2 class="modal-title">Library</h2>
                  </div>
                  <hr>

                  <div class="modal-body">

                      <div id="modal-input">
                        <input type="text" class="search" placeholder="Search" ng-model="searchItem">
                        <select id="categories" ng-model="showCategory" >
                          <option value="" selected>All categories</option>
                          <option ng-repeat="category in categories" value="{{category}}">{{category}}</option>

                        </select>
                      </div>

                      <ul class="items grid">
                        <li ng-repeat="product in libraryProducts | filter:searchItem | filter:showCategory">
                          <div class="item">
                            <div class="item-thumb">
                              <a href="#">
                                <img ng-src="{{product.image}}"/>
                              </a>
                            </div>
                            <div class="item-txt">
                              <a href="#">
                                <h6>{{product.title}}</h6>
                              </a>
                            </div>
                          </div>
                        </li>
                      </ul>
                    </div>

                    <div class="modal-footer">
                      <button type="button" class="btn pink close-library" ng-click="showLibrary=false">Close</button>
                    </div>
                  </div>
            </div>

        </div>

        <!--Right column-->
        <div class="col-sm-6">
            <div class="row">
                <div class="col-sm-12 column-header">
                    <button type="button" class="btn pink" ng-click="showLibrary=true">Library</button>
                    <h3>Products</h3>
                </div>
            </div>

            <div class="container-fluid">
                <div id="card-container" class="card-container">
                    <div ng-repeat="productCard in productCards" ng-class="{'last' : $last && productCards.length > 3}">
                        <div class="product-card">
                            <div class="col-sm-3 product-card-thumb">
                                <input class="product-card-title" ng-model="productCard.cardTitle" type="text" name="" value="" placeholder="{{productCard.cardTitle}}">
                                <img class="product-card-image" src="{{productCard.products[0].imageURL}}" alt="product image" style="background-color: #FFB86F">
                            </div>
                                <div class="timeline">
                                    <div class="product-timeline">
                                        <div class="marker group" marker></div>
                                        <div class="product-bar ui-widget-content" slider>
                                            <span class="seg-start">00:00:00</span>
                                            <span class="seg-end">00:00:15</span>
                                            <span class="del-seg"><a href="#"><span class="hover-help">Delete segment</span></a>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            <div class="timeline-block timeline-btns">
                                <button type="button" class="glyphicon glyphicon-plus add-timeline" ng-click=""></button>
                                <button type="button" class="glyphicon glyphicon-trash" ng-click="removeProductCard($event, $index)"></button>
                                <button type="button" ng-class="{'glyphicon glyphicon-chevron-down': isCollapsed, 'glyphicon glyphicon-chevron-right': !isCollapsed }" ng-click="isCollapsed = !isCollapsed"></button>
                            </div>
                        </div>
                        <div uib-collapse="!isCollapsed">
                            <div class="well well-sm product-card-well" ui-sortable="sortableOptions" ng-model="productCard.products">

                                <div ng-repeat="product in productCard.products">
                                    <div class="product">
                                        <div class="col-sm-2 product-thumb">
                                            <img class="product-image" src="{{product.imageURL}}" alt="product image" style="background-color: #FFB86F">
                                        </div>
                                        <div class="col-sm-8">
                                            <span>{{product.productTitle}}</span>
                                            <span class="default-product" ng-if="$index == 0">(Default)</span>
                                        </div>
                                        <div class="col-sm-2 product-card-toggle">
                                            <button type="button" class="glyphicon glyphicon-trash" ng-click="removeProduct($parent.$index, $event, $index)"></button>
                                            <button type="button" ng-class="{'glyphicon glyphicon-chevron-down': isProductCollapsed, 'glyphicon glyphicon-chevron-right': !isProductCollapsed }" ng-click="isProductCollapsed = !isProductCollapsed"></button>
                                        </div>
                                    </div>
                                    <div uib-collapse="!isProductCollapsed">
                                        <div class="well well-sm product-collapse">
                                            <div class="col-sm-6">
                                                <p>Title: {{product.productTitle}}</p>
                                                <p>Link: {{product.link}}</p>
                                                <p>Special offer: {{product.specialOffer}}</p>
                                                <p>Button Text: {{product.buttonText}}</p>
                                                <p>Target Group: {{product.targetGroup}}</p>
                                            </div>
                                            <div class="col-sm-6">
                                                <img class="product-image-collapse" src="{{product.imageURL}}" alt="product image" style="background-color: aquamarine">
                                            </div>
                                            <button type="button" class="">Save</button>
                                        </div>
                                    </div>
                                </div>

                                <div class="product-add">
                                    <button type="button" ng-click="addProduct($index)"></button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!--Static bar for add product card-->
                <div class="product-card-add">
                    <button type="button" ng-click="addProductCard()"></button>
                </div>

            </div>
        </div>
    </div>


    <!-- include the JavaScript dependencies: jQuery, AngularJS, AngularUI Bootstrap -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.1/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.1/angular-animate.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.1/angular-sanitize.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/2.5.0/ui-bootstrap-tpls.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-sortable/0.13.2/sortable.min.js"></script>


    <!-- include our JavaScript -->
    <script src="js/app.js"></script>

</body>

</html>
